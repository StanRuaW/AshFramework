# 代码规范



# 做一个抽象之前，永远先想你是否需要它

## **命名规范**

1. 私有变量：_tuoFeng
2. 保护，公有变量：tuoFeng
3. 静态变量： s_tuoFeng
4. get/set：TuoFeng
5. 函数：TuoFeng
6. 异步函数：XXXAsync

## **类成员顺序**

1. --------静态--------
2. 静态公有变量
3. 静态私有变量
4. 静态公有函数
5. 静态私有函数
6. --------对外接口--------
7. 对外公共接口函数 / get / set
8. --------对外事件--------
9. 事件注册
10. protect变量
11. 私有变量
12. --------生命周期--------
13. 构造函数 / Awake() / Init()
14. 开始运行 / Start() / OnOpen() / OnShow()
15. 更新 / Update() / Tick
16. 隐藏 / Sleep() / hide()
17. 销毁 / Destroy() / Release()
18. --------内部处理方法--------
19. 私有函数 / 本地方法

## **设计规范**

1. 尽可能使用本地函数，确保语义的正确性，且方便维护
2. 尽可能数据驱动表现
3. 非强关联模块之间，广播 / 委托 / 数据事件最好。只有明确前后逻辑关系的模块可以直接调用
4. 单例不要乱用，用了就要在游戏循环中的位置控制好声明周期
5. 单例不要乱用，用服务委托模式和manager嵌套模式控制好
6. 禁止子模块拥有父模块引用，实在要用请走事件 / 数据驱动 / context上下文
7. update中的循环请严格控制gc量

## 命名空间规范

#### AshFramework

​	底层框架之间的代码的命名空间

​		namespace AshFramework.Log

​		namespace AshFramework.Asset这样

#### AshCommon

​	底层框架的对外接口，不许有子命名空间。使用了这个命名空间的类都可以很方便的使用里面的方法//TODO：创建新文件可以选择命名空间，默认用Common

​		namespace AshCommon

​				class Log

#### AshRuntime(待定)

​	业务代码所在地。感觉放全局还是不太好。生成的类默认也带上这个命名空间，不确定是否需要子空间来进行约束。而且也不知道战斗buff模块这种是否属于runtime模块	

​	namespacce AshRuntime

#### Editor（待定）

​	还没想好editor的命名空间怎么处理